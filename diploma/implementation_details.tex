\section{Детали реализации}
В данном разделе рассмотрены и обоснованы выбранные решения, приведены сравнения производительности и выразительности языков.

\subsection{Требования к реализации}
Перед тем как приступить к реализации необходимо определить какие ограничения необходимо соблюдать для получения реализации которую удобно использовать на практике

\begin{itemize}
\item Язык Kotlin совместим с Java. Это значит, что объекты из языка Kotlin должны быть корректными объектами для языка Java и в обратную сторону. Одной из важных особенностей, которую хочется сохранить - это идентичность объекта, то есть приведение к структурному типу должно не модифицировать ссылку на объект.
\item Другим важным требованием является возможность использования структурных типов как в качестве типов коллекций, так и в качестве элементов существующих коллекций. Таким образом необходимо, чтоб структурные типы поддерживали типовые параметры.
\item Протоколы не должны вносить ощутимых расходов на потребление памяти и время работы при приведении типов и вызове метода.
\item Возможности использование структурных типов должны быть схожи с обычными типами.
\item Необходимо избегать генерации кода в процессе выполнения
\end{itemize}

Данные ограничения в основном влияют на сгенерированный код. Поэтому сперва рассмотрены подходы для генерации и функциональность которая может быть получена, а затем возможности особенности реализации в компиляторе.

\input{implementation_details/backend}
\input{implementation_details/compiler}
